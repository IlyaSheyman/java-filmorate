CREATE TABLE users
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email VARCHAR,
    login VARCHAR,
    name VARCHAR,
    birthday TIMESTAMP
);

CREATE TABLE genre
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR
);

CREATE TABLE rating
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR
);

CREATE TABLE films
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR,
    description VARCHAR,
    release_date TIMESTAMP,
    duration INTEGER,
    genre_id INTEGER REFERENCES genre(id),
    rating_id INTEGER REFERENCES rating(id)
);

CREATE TABLE film_genre
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    film_id INTEGER REFERENCES films(id),
    genre_id INTEGER REFERENCES genre(id)
);

CREATE TABLE friendships
(
  friendship_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id INTEGER,
  friend_id INTEGER,
  friendship_status BOOLEAN
);

CREATE TABLE likes
(
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  film_id INTEGER REFERENCES films(id),
  user_id INTEGER REFERENCES users(id),
);