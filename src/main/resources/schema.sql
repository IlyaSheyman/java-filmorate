CREATE TABLE IF NOT EXISTS users
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email VARCHAR(50),
    login VARCHAR(50),
    name VARCHAR(50),
    birthday TIMESTAMP
);

CREATE TABLE IF NOT EXISTS genre
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR(25)
);

CREATE TABLE IF NOT EXISTS rating
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR(25)
);

CREATE TABLE IF NOT EXISTS films
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(50),
    description VARCHAR,
    release_date TIMESTAMP,
    duration INTEGER,
    genre_id INTEGER REFERENCES genre(id),
    rating_id INTEGER REFERENCES rating(id)
);

CREATE TABLE IF NOT EXISTS film_genre
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    film_id INTEGER REFERENCES films(id),
    genre_id INTEGER REFERENCES genre(id)
);

CREATE TABLE IF NOT EXISTS friendships
(
    friendship_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_id INTEGER,
    friend_id INTEGER,
    friendship_status BOOLEAN
);

CREATE TABLE IF NOT EXISTS likes
(
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    film_id INTEGER REFERENCES films(id),
    user_id INTEGER REFERENCES users(id)
);
